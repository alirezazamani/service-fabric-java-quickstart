<?xml version="1.0" encoding="utf-8" standalone="no"?>
<ApplicationManifest xmlns="http://schemas.microsoft.com/2011/01/fabric" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ApplicationTypeName="VotingApplicationType" ApplicationTypeVersion="1.0.0">
  <Description>Voting Application</Description>
  <ServiceManifestImport>
    <ServiceManifestRef ServiceManifestName="VotingDataServicePkg" ServiceManifestVersion="1.0.0"/>
  </ServiceManifestImport>
  <ServiceManifestImport>
    <ServiceManifestRef ServiceManifestName="ControllerServicePkg" ServiceManifestVersion="1.0.0"/>
  </ServiceManifestImport>
  <ServiceManifestImport>
        <ServiceManifestRef ServiceManifestName="VotingWebPkg" ServiceManifestVersion="1.0.0"/>
    </ServiceManifestImport>
    <DefaultServices>
      <Service Name="VotingDataService">
         <StatefulService MinReplicaSetSize="3" ServiceTypeName="VotingDataServiceType" TargetReplicaSetSize="3">
            <NamedPartition>
                <Partition Name="Partition0"/>
                <Partition Name="Partition1"/>
                <Partition Name="Partition2"/>
            </NamedPartition>
         </StatefulService>         
      </Service>
      <Service Name="ControllerService">
          <StatefulService MinReplicaSetSize="3" ServiceTypeName="ControllerServiceType" TargetReplicaSetSize="3">
          <NamedPartition>
              <Partition Name="Partition0"/>
              <Partition Name="Partition1"/>
              <Partition Name="Partition2"/>
          </NamedPartition>
        </StatefulService>
      </Service>
      <Service Name="VotingWeb">
          <StatelessService InstanceCount="1" ServiceTypeName="VotingWebType">
              <SingletonPartition/>
          </StatelessService>
      </Service>
    </DefaultServices>      
</ApplicationManifest>
